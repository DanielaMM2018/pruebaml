# Modelos de Clustering No Supervisado

## Objetivo
El objetivo de esta etapa fue segmentar a los usuarios en grupos homog茅neos mediante t茅cnicas de clustering no supervisado, con el fin de identificar perfiles de comportamiento similares a partir de variables num茅ricas derivadas de informaci贸n transaccional y sociodemogr谩fica.  

Esta segmentaci贸n permite descubrir **estructuras latentes en los datos** sin asumir categor铆as predefinidas y constituye un insumo clave para posteriores an谩lisis de negocio, personalizaci贸n de estrategias y toma de decisiones.

---

## Conjunto de Datos
El dataset utilizado contiene aproximadamente **500 usuarios**, donde:

- Cada fila representa un cliente.
- Cada columna corresponde a una variable num茅rica que describe su comportamiento.
- Se utilizaron **34 variables num茅ricas** relacionadas con:

**Actividad transaccional:** `num_tx_total`, `num_tx_1m`, `num_tx_3m`, `recencia_dias`, `log_num_tx_total`  
**Valor econ贸mico:** `total_gasto`, `gasto_1m`, `log_total_gasto`  
**Uso y redenci贸n de puntos:** `saldo_puntos`, `puntos_ganados_total`, `puntos_redimidos_total`, `puntos_ganados_1m`, `puntos_redimidos_3m`, `puntos_redimidos_6m`  
**Gasto por categor铆a:** `gasto_HOGAR_12m`, `gasto_TECNOLOGIA_12m`, `gasto_MERCADO_12m`, `gasto_ENTRETENIMIENTO_12m`, `gasto_TRANSPORTE_12m`  
**Patrones tecnol贸gicos:** `pct_tecnologia_12m`, `compra_tecnologia`, `avg_gasto_tecnologia_3m`, `avg_gasto_tecnologia_6m`  
**Variables sociodemogr谩ficas:** `edad`, `estrato_social`  

> **Nota:** El identificador del usuario (ID) no fue incluido en el modelo, ya que no aporta informaci贸n para medir similitud y podr铆a introducir ruido.

---

## Preprocesamiento
Antes de aplicar los modelos de clustering:

- Se seleccionaron 煤nicamente variables num茅ricas relevantes.
- Las variables fueron escaladas utilizando **RobustScaler**, para:
  - Reducir el impacto de valores at铆picos.
  - Garantizar que todas las variables contribuyan de forma equilibrada a las m茅tricas de distancia.
- El escalado se centraliz贸 en un m贸dulo reutilizable para asegurar consistencia entre todos los modelos evaluados.

---

## Algoritmos Evaluados
Se probaron tres algoritmos de clustering no supervisado:

1. **K-Means**  
   Basado en distancia euclidiana, asigna cada usuario al centroide m谩s cercano. Requiere definir el n煤mero de clusters \(K\).  
   *Eficiente e interpretable.*

2. **Birch**  
   Algoritmo jer谩rquico que construye micro-clusters y luego los agrupa.  
   *Eficiente para datasets peque帽os y medianos.*

3. **Agglomerative Clustering**  
   Algoritmo jer谩rquico ascendente, fusiona progresivamente clusters hasta alcanzar el n煤mero deseado.  

---

## Selecci贸n del N煤mero de Clusters
- Se evaluaron valores de K entre 2 y 8 utilizando **K-Means** como modelo exploratorio, aplicando:
  - **Elbow Method:** reducci贸n de la varianza interna.
  - **Silhouette Score:** medici贸n de cohesi贸n y separaci贸n entre clusters.

> Se determin贸 **K = 4**, al observar un punto de inflexi贸n claro en el m茅todo del codo y un m谩ximo local del Silhouette Score, ofreciendo un equilibrio entre separaci贸n y simplicidad interpretativa.

---

## Evaluaci贸n de Modelos
| Modelo        | Silhouette | Davies-Bouldin | Calinski-Harabasz |
|---------------|------------|----------------|------------------|
| K-Means       | 0.894      | 0.844          | 682.36           |
| Birch         | 0.872      | 0.922          | 646.48           |
| Agglomerative | 0.872      | 0.922          | 646.48           |

> **Modelo seleccionado:** **K-Means**, por mayor cohesi贸n interna, menor solapamiento y mejor separaci贸n global.

---

## Interpretaci贸n de los Clusters
- El modelo final segment贸 a ~500 usuarios en **4 clusters**, representando perfiles de comportamiento similares.  
- Se utiliz贸 la tabla `cluster_summary` para analizar los centroides y valores promedio de las variables.

**Indicadores Clave para la interpretaci贸n:**

- **Actividad:** `num_tx_total`, `num_tx_1m`, `num_tx_3m`, `recencia_dias`  
- **Valor:** `total_gasto`, `gasto_1m`, `gasto_HOGAR_12m`, `gasto_TECNOLOGIA_12m`  
- **Engagement:** `saldo_puntos`, `puntos_ganados_total`, `puntos_redimidos_total`  
- **Patrones temporales:** ventanas 1, 3, 6, 12 meses  
- **Perfil demogr谩fico:** `edad`, `estrato_social`  

---

## Perfiles Identificados

1. **Usuarios de bajo valor / ocasionales:** bajos `num_tx_total` y `total_gasto`, alta `recencia_dias`.  
2. **Usuarios activos de valor medio:** actividad constante, gasto distribuido en m煤ltiples categor铆as.  
3. **Usuarios de alto valor / premium:** alta frecuencia, alto gasto, fuerte uso de puntos, baja recencia.  
4. **Usuarios at铆picos / extremos:** valores excepcionalmente altos en gasto y transacciones.

> La visualizaci贸n mediante **PCA** confirm贸 la separaci贸n entre estos grupos.

---

## Conclusi贸n
El uso de clustering no supervisado permiti贸:

- Identificar segmentos de usuarios con caracter铆sticas similares.
- Obtener una visi贸n estructurada, objetiva y reproducible.
- Proporcionar insumos para **personalizaci贸n de campa帽as, priorizaci贸n de clientes y estrategias comerciales**.

>  **Frase final:** El clustering descubre estructuras latentes, no clases preexistentes, asegurando segmentaci贸n objetiva y accionable.
